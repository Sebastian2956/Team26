<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contacts</title>
    <script type="text/javascript" src="js/code.js"></script>
    <script type="text/javascript" src="js/md5.js"></script>
    <link rel="stylesheet" href="./css/dashStyle.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
</head>
<body>

    <!-- Header -->
    <div class="header">
        <h1>Contacts</h1>
        <button type="button" id="logoutButton" onclick="doLogout();">Logout</button>
        <!--<button class="round-button" title="Add New Contact">+</button>-->
    </div>

    <div class="container">
        <!-- Left Column: Dark Color Contact List -->
        <div class="left">
            <h3>Contact List</h3>
            
            <button class="round-button" id="round-button" title="Add New Contact" onclick="toggleForm()">+</button>
            <form class="form-popup" id="myForm" style="display: none;">
                
                <div class="form-container" id="form-container">
                    <h2>Add New Contact</h2>

                    <label for=""><strong>First Name</strong></label>
                    <input type="text" id ="contactFirstName" placeholder="John" required>
                    <br><br>
                    <label for=""><strong>Last Name</strong></label>
                    <input type="text" id ="contactLastName" placeholder="Doe" required>
                    <br><br>
                    <label for=""><strong>Email</strong></label>
                    <input type="email" id ="contactEmail" placeholder="johndoe@gmail.com" required>
                    <br><br>
                    <label for=""><strong>Phone</strong></label>
                    <input type="number" id ="contactPhone" placeholder="123-456-7890" required>
                    
                    <br>
                    <button type="button" class="addNewContactBtn" onclick="doAddContact(); doPopulate();">Add</button>
                    <br>
                    <span id="addResult"></span>
                </div>
            </form>
			<div class="search">
				<div class="search-wrapper">
					<span class="material-symbols-outlined search-icon">search</span>
					<input class="search-input" id="search-input" type="search" placeholder="Search" oninput="filterContacts()"> <!-- Added oninput -->
				</div>
				<button class="search-button" onclick="filterContacts()">Search</button> <!-- Optional, for manual search -->
			</div>

			<ul class="contact-list" id="contact-list">
				<!-- Contacts will be dynamically added here -->
			</ul>
        </div>

        <!-- Right Column: Lighter Color Contact Details -->
        <div class="right">
            <h3>Contact Details</h3>
				<div id="contact-details" class="contact-details">
					<!-- Contact details will be dynamically added here -->
				</div>

				<div id="contact-buttons">
					<button type="button" id="deleteButton" onclick="doDelete(); doPopulate();">Delete</button>
					<button type="button" id="editButton" onclick="toggleEdit();">Edit</button> <!-- Toggle Edit/Save -->
				</div>
        </div>
    </div>

    <script>
        function toggleForm() {
            const form = document.getElementById("myForm");
            const button = document.getElementById("round-button");

            if (form.style.display === "block") {
                form.style.display = "none";
                button.textContent = "+";
                button.style.backgroundColor = 'white';
            } else {
                form.style.display = "block";
                button.textContent = "x";
                button.style.backgroundColor = 'red';
            }
        }
    </script>
</body>
</html>
